<template>
    <div class="border-t-2 border-gray-500">
        <div class="mx-40">
            <div class="flex flex-wrap justify-between">
                <div>
                    <h1 class="font-bold" style="font-size: 42px;">{{details}}</h1>
                </div>
                <div class="flex flex-wrap space-x-4">
                    <div>
                        <svg width="56" height="47" viewBox="0 0 56 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22.7767 43.3055L22.7796 43.3084C24.4397 44.9557 26.1905 45.75 28 45.75C29.8115 45.75 31.5625 44.9554 33.2276 43.3012L33.23 43.2989L50.4316 26.0559L50.4409 26.0466L50.4498 26.037C52.3886 23.9526 54.75 20.4501 54.75 15.76C54.75 7.75342 48.1878 1.25 40.1333 1.25C36.4738 1.25 32.9717 2.59992 30.2173 5.09961L30.2049 5.11088L30.193 5.12269L22.8749 12.3862C22.8749 12.3862 22.8749 12.3862 22.8749 12.3862C21.9016 13.3521 21.9016 14.9172 22.8749 15.883C23.8451 16.8457 25.4123 16.8457 26.3824 15.883L26.3825 15.883L33.633 8.68651C35.4132 7.07692 37.7208 6.19 40.1333 6.19C45.4602 6.19 49.7833 10.4882 49.7833 15.76C49.7833 18.8023 48.1971 21.1815 46.8539 22.6289L29.7129 39.8116C29.7125 39.812 29.712 39.8125 29.7115 39.813C28.87 40.6477 28.3947 40.8157 28.0115 40.8101C27.6189 40.8041 27.096 40.614 26.295 39.8195C26.2947 39.8191 26.2944 39.8188 26.294 39.8185L9.23057 22.7129C8.18527 21.4161 7.44693 20.4486 6.95596 19.4222C6.47347 18.4136 6.21667 17.3162 6.21667 15.76C6.21667 10.4882 10.5398 6.19 15.8667 6.19C17.8706 6.19 19.7897 6.79196 21.4165 7.93091L21.4177 7.93174C22.5405 8.71459 24.0832 8.4494 24.8741 7.33669C25.6701 6.21755 25.3958 4.67389 24.2752 3.8898L24.2749 3.88959C21.8029 2.16184 18.895 1.25 15.8667 1.25C7.81219 1.25 1.25 7.75342 1.25 15.76C1.25 20.7217 3.34769 23.3176 5.42905 25.8932L5.43973 25.9064L5.46429 25.9368L5.49188 25.9645L22.7767 43.3055Z" fill="black" stroke="black" stroke-width="1.5"/>
                        </svg>
                    </div>
                    <div>
                        <svg width="50" height="48" viewBox="0 0 50 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M39.2216 20.4878C33.5329 20.4878 28.7425 15.8049 28.7425 10.2439C28.7425 4.68293 33.5329 0 39.2216 0C44.9102 0 49.7006 4.68293 49.7006 10.2439C49.7006 15.8049 44.9102 20.4878 39.2216 20.4878ZM39.2216 14.6341C41.6168 14.6341 43.7126 12.5854 43.7126 10.2439C43.7126 7.90244 41.6168 5.85366 39.2216 5.85366C36.8263 5.85366 34.7305 7.90244 34.7305 10.2439C34.7305 12.5854 36.5269 14.6341 39.2216 14.6341ZM10.479 35.122C4.79042 35.122 0 30.439 0 24.878C0 19.3171 4.79042 14.6341 10.479 14.6341C16.1677 14.6341 20.9581 19.3171 20.9581 24.878C21.2575 30.439 16.4671 35.122 10.479 35.122ZM10.479 29.2683C12.8742 29.2683 14.9701 27.2195 14.9701 24.878C14.9701 22.5366 12.8742 20.4878 10.479 20.4878C8.08383 20.4878 5.98802 22.5366 5.98802 24.878C6.28742 27.2195 8.08383 29.2683 10.479 29.2683ZM33.2335 12.2927C34.1317 13.7561 33.5329 15.5122 32.0359 16.3902L19.1617 23.7073C17.6647 24.2927 15.8683 24 14.9701 22.5366C14.0719 21.0732 14.6707 19.3171 16.1677 18.439L29.0419 11.122C30.5389 10.5366 32.3353 10.8293 33.2335 12.2927ZM28.7425 38.3415L16.4671 31.3171C14.9701 30.439 14.6707 28.6829 15.2695 27.2195C16.1677 25.7561 17.9641 25.4634 19.4611 26.0488L30.5389 32.1951C32.3353 29.2683 35.6287 27.5122 39.521 27.5122C45.2096 27.5122 50 32.1951 50 37.7561C50 43.3171 45.2096 48 39.521 48C33.5329 48 28.7425 43.6098 28.7425 38.3415ZM39.2216 42.1463C41.6168 42.1463 43.7126 40.0976 43.7126 37.7561C43.7126 35.4146 41.6168 33.3659 39.2216 33.3659C36.8263 33.3659 34.7305 35.4146 34.7305 37.7561C34.4311 40.3902 36.5269 42.1463 39.2216 42.1463Z" fill="black"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <div class="mx-80">
            <SectionsDetailsImageGrid />
        </div>
        <div class="mx-60">
            <SectionsDetailsPriceDetails />
        </div>
        <div class="mx-40">
            <SectionsDetailsItinerary :details="details_raw"/>
        </div>
    </div>
</template>

<script>
export default{
    data(){
        return{
            ServiceName: "Travel to Singapore 5Days and 4Nights",
            details_raw: null,
        }
    },
    async mounted(){
     await this.fetchCategories()
    },
    setup() {
        const route = useRoute();
        const code = route.params.id;

        return { code };
    },
    methods: {
      async fetchCategories() {
            try {
                console.log(this.code)
                const response = await this.$axios.get(`/item/details/${this.code}`);
                if (response.status === 200) {
                    this.details_raw = toRaw(response.data);
                    this.details = this.details_raw.name
                    console.log(this.details_raw)
                }
            } catch (e) {
                console.error(e);
            }
        },
    }
}
</script>